<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Regression on Order Statistics (ROS) — ros • NADA2</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Regression on Order Statistics (ROS) — ros"><meta property="og:description" content="Perform regression on order statistics for left-censored data."><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">NADA2</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/Censored_Data_Analysis.html">Censored Data Analysis</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/SwampThingPaul/NADA2/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Regression on Order Statistics (ROS)</h1>
    <small class="dont-index">Source: <a href="https://github.com/SwampThingPaul/NADA2/blob/HEAD/R/NADA_ros.R" class="external-link"><code>R/NADA_ros.R</code></a></small>
    <div class="hidden name"><code>ros.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Perform regression on order statistics for left-censored data.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ros</span><span class="op">(</span></span>
<span>  <span class="va">obs</span>,</span>
<span>  censored <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  forwardT <span class="op">=</span> <span class="st">"log"</span>,</span>
<span>  reverseT <span class="op">=</span> <span class="st">"exp"</span>,</span>
<span>  na.action <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"na.action"</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for ros</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  plot.censored <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  lm.line <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  grid <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Value"</span>,</span>
<span>  pch <span class="op">=</span> <span class="fl">16</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>obs</dt>
<dd><p>Numeric vector of observations or formula of the form <code>response ~ censor</code>, where <code>response</code> is numeric values and <code>censor</code> is a logical or binary indicator (TRUE if censored).</p></dd>


<dt>censored</dt>
<dd><p>Logical vector of left-censored indicators.</p></dd>


<dt>data</dt>
<dd><p>A <code>data.frame</code> containing the variables in the formula.</p></dd>


<dt>forwardT</dt>
<dd><p>Name of transformation function (e.g., "log", "trueT").</p></dd>


<dt>reverseT</dt>
<dd><p>Name of back-transformation function (e.g., "exp", "trueT").</p></dd>


<dt>na.action</dt>
<dd><p>Function to handle missing values.</p></dd>


<dt>x</dt>
<dd><p>ros2 model object</p></dd>


<dt>plot.censored</dt>
<dd><p>default = FALSE, if set to true it will also plot censored data</p></dd>


<dt>lm.line</dt>
<dd><p>will plot linear model line</p></dd>


<dt>grid</dt>
<dd><p>will add grid</p></dd>


<dt>ylab</dt>
<dd><p>default is "Value" but custom text can be added</p></dd>


<dt>pch</dt>
<dd><p>default set to 16, codes consistent with <code>points</code> and <code>plot</code> functions</p></dd>


<dt>...</dt>
<dd><p>arguments passed to plot function</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>A list with:</p><dl><dt><code>modeled</code></dt>
<dd><p>Numeric vector of uncensored + imputed censored values.</p></dd>

<dt><code>modeled.censored</code></dt>
<dd><p>Imputed values only for censored observations.</p></dd>

<dt><code>uncensored</code></dt>
<dd><p>Original uncensored values.</p></dd>

<dt><code>censored</code></dt>
<dd><p>Original censored values.</p></dd>

<dt><code>censored.ranks</code></dt>
<dd><p>Censored ranks used in estimation.</p></dd>

<dt><code>uncensored.ranks</code></dt>
<dd><p>Uncensored ranks used in estimation.</p></dd>

<dt><code>model</code></dt>
<dd><p>Fitted linear model object.</p></dd>


</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Code for this function is originally from the NADA package developed by R. Lopaka Lee and Dennis Helsel.
By default, ros performs a log transformation prior to, and after operations over the data.
This can be changed by specifying a forward and reverse transformation function using the forwardT
and reverseT parameters. No transformation will be performed if either forwardT or reverseT are set to NULL.</p>
<p>The procedure first computes the Weibull-type plotting positions of the combined uncensored
and censored observations using a formula designed for multiply-censored data (see hc_ppoints).
A linear regression is formed using the plotting positions of the uncensored observations and
their normal quantiles. This model is then used to estimate the concentration of the censored
observations as a function of their normal quantiles. Finally, the observed uncensored values
are combined with modeled censored values to corporately estimate summary statistics of the entire
population. By combining the uncensored values with modeled censored values, this method is more
resistant of any non-normality of errors, and reduces any transformation errors that may be incurred.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  conc <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.2</span>, <span class="fl">0.5</span>, <span class="fl">1.0</span>, <span class="fl">0.4</span>, <span class="fl">2.0</span>, <span class="fl">0.3</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>  censored <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">ros</span><span class="op">(</span><span class="va">conc</span> <span class="op">~</span> <span class="va">censored</span>, data <span class="op">=</span> <span class="va">df</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>         n     n.cen    median      mean        sd </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6.0000000 4.0000000 0.1624457 0.6082971 0.7596581 </span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Paul Julian, Dennis Helsel, Lopaka Lee.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

